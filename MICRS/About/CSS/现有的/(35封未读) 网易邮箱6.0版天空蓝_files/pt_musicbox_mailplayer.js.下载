(function(){var c8g=NEJ.P,Y9P=NEJ.O,h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),H9y=c8g("nej.ut"),l8d=c8g("nm.x"),p8h=c8g("nm.d"),DI9z="track-queue",cxG4K="track-history",rf4j="player-setting",nb3x="random-queue",b8h,K9B;var bnl8d=function(){var ss4w=function(cxH4L,cxI4M){return Math.random()-.5};return function(bo9f){for(var i=0,i8a=[];i<bo9f;++i)i8a[i]=i;i8a.sort(ss4w);return i8a}}();p8h.kJ2x=NEJ.C();b8h=p8h.kJ2x.O9F(p8h.gZ1x);b8h.bk9b=function(e8e){this.bl9c(e8e);this.bWu7n()};b8h.bWu7n=function(){var oW3x=!1;return function(){if(oW3x)return;oW3x=!0;this.EB9s(rf4j,{mode:4,volume:.5,autoplay:!1,index:-1,lock:!0});var js2x=this.EB9s(DI9z,[]);this.oE3x(nb3x,bnl8d(js2x.length))}}();b8h.nZ3x=function(){return this.JI0x(rf4j)};b8h.rA4E=function(J9A,A9r,deleted){var j8b=this.nZ3x(),bns8k=j8b[J9A];j8b[J9A]=A9r;this.uf6Z(rf4j,j8b);h8b.z9q(p8h.kJ2x,"settingchange",{key:J9A,newValue:A9r,oldValue:bns8k,deleted:deleted})};b8h.kk2x=function(or3x,Db8T,El9c){var bWp7i=this.nZ3x().index;this.rA4E("index",or3x);if(Db8T===undefined)Db8T=true;h8b.z9q(p8h.kJ2x,"playchange",{newValue:or3x,oldValue:bWp7i,autoplay:Db8T,endtype:El9c})};b8h.bTB7u=function(or3x,Db8T,El9c,ky2x){var i8a=this.kr2x();if(!i8a||!i8a[or3x])return;if(l8d.bbi5n(i8a[or3x]))or3x=this.bSI7B(or3x,ky2x);if(or3x<0){h8b.z9q(p8h.kJ2x,"playerror",{code:403});return}this.kk2x(or3x,Db8T,El9c)};b8h.XE4I=function(){return this.nZ3x().index};b8h.bsC0x=function(gC1x){if(!gC1x||k8c.el0x(gC1x)&&!gC1x.length)return;var i8a=this.kr2x();!k8c.el0x(gC1x)?i8a.push(gC1x):Array.prototype.push.apply(i8a,gC1x);var fY1x=1e3;if(i8a.length>fY1x){var Iz0x=this.XE4I(),LH1x=i8a.length-fY1x;if(Iz0x>=0&&Iz0x<LH1x){var bsx0x=i8a.splice(0,LH1x+1);if(bsx0x[Iz0x]){i8a.unshift(bsx0x[Iz0x]);this.rA4E("index",0)}}else{i8a.splice(0,LH1x);if(Iz0x>=LH1x)this.rA4E("index",Iz0x-LH1x)}}this.uf6Z(DI9z,i8a);this.oE3x(nb3x,bnl8d(i8a.length));h8b.z9q(p8h.kJ2x,"queuechange",{queue:i8a})};b8h.kr2x=function(){return this.JI0x(DI9z)};b8h.bsw0x=function(gC1x,dn0x){this.uf6Z(DI9z,[]);if(!gC1x||!gC1x.length){h8b.z9q(p8h.kJ2x,"queuechange",{queue:[]});this.oE3x(nb3x,[])}else{this.bsC0x(gC1x)}if(dn0x!==undefined)this.kk2x(dn0x===0?-1:0,true,3)};b8h.cxK4O=function(){this.uf6Z(DI9z,this.JI0x(DI9z))};b8h.bnG8y=function(Pi2x){if(Pi2x){this.bsw0x([]);this.rA4E("index",-1);return}var LG1x=this.nZ3x().index,bsu0x=this.vf6Z(LG1x);if(bsu0x){this.bsw0x([bsu0x]);this.rA4E("index",0)}};b8h.bnK9B=function(){var zM8E=/^\/m\/(album|playlist|dj)\?id=(\d+)/;var Gc9T=function(bK9B,bc9T){if(!bK9B)return;if(!bc9T){bK9B.from={};return}if(!bc9T.fid){var bv9m={dj:17,album:19,playlist:13},xf7Y=(bc9T.fhref||"").match(zM8E);if(xf7Y){bc9T.fid=bv9m[xf7Y[1]];bc9T.fdata=xf7Y[2]}}bK9B.from={fid:bc9T.fid,fdata:bc9T.fdata,fhref:bc9T.fhref}};return function(i8a,bc9T){if(!i8a||!i8a.length)return;var js2x=this.kr2x();for(var i=0,s8k=-1,jw2x=[];i<i8a.length;++i){s8k=this.Ik0x(i8a[i].id,bc9T.fid,bc9T.fdata);if(s8k>=0)continue;jw2x.push(i8a[i])}k8c.be9V(jw2x,function(r8j){Gc9T(r8j,bc9T)});this.bsC0x(jw2x)}}();b8h.bRz6t=function(s8k){var i8a=this.kr2x();if(s8k<0||s8k>=i8a.length)return;j8b=i8a.splice(s8k,1);this.uf6Z(DI9z,i8a);this.oE3x(nb3x,bnl8d(i8a.length));h8b.z9q(p8h.kJ2x,"queuechange",{queue:i8a,index:s8k,deleted:!0});var LG1x=this.nZ3x().index;if(s8k<LG1x){this.rA4E("index",LG1x-1,"deleted")}else if(s8k==LG1x){this.bTB7u(s8k==i8a.length?s8k-1:this.LC1x(),!1,3)}return j8b};b8h.vf6Z=function(s8k){var i8a=this.kr2x();return i8a[s8k]};b8h.LC1x=function(){var i8a=this.kr2x(),hA1x=this.nZ3x();if(!i8a||!i8a.length)return-1;if(hA1x.index!=-1)return hA1x.index;var s8k=hA1x.mode==5?k8c.Kw0x(0,i8a.length):Math.max(Math.min(hA1x.index,i8a.length),0);return s8k};b8h.bss0x=function(){var i8a=this.kr2x(),hA1x=this.nZ3x();if(!i8a||!i8a.length)return-1;var s8k=(hA1x.index-1+i8a.length)%i8a.length;if(hA1x.mode==5){var ne3x=this.qk4o(nb3x),om3x=Math.max(0,k8c.cV0x(ne3x,hA1x.index));om3x=(om3x-1+ne3x.length)%ne3x.length;s8k=ne3x[om3x]}if(s8k===undefined)k8c.Kw0x(0,i8a.length);return s8k};b8h.bnS9J=function(){var i8a=this.kr2x(),hA1x=this.nZ3x();if(!i8a||!i8a.length)return-1;var s8k=(hA1x.index+1)%i8a.length;if(hA1x.mode==5){var ne3x=this.qk4o(nb3x),om3x=Math.max(0,k8c.cV0x(ne3x,hA1x.index));om3x=(om3x+1)%ne3x.length;s8k=ne3x[om3x]}if(s8k===undefined)k8c.Kw0x(0,i8a.length);return s8k};b8h.bSI7B=function(or3x,ky2x){var i8a=this.kr2x(),hA1x=this.nZ3x();if(!i8a||!i8a.length)return-1;var ct9k=0,s8k,bK9B;do{ct9k++;if(!ky2x){s8k=(or3x+1)%i8a.length;if(hA1x.mode==5){var ne3x=this.qk4o(nb3x),om3x=Math.max(0,k8c.cV0x(ne3x,or3x));om3x=(om3x+1)%ne3x.length;s8k=ne3x[om3x]}}else{s8k=(or3x-1+i8a.length)%i8a.length;if(hA1x.mode==5){var ne3x=this.qk4o(nb3x),om3x=Math.max(0,k8c.cV0x(ne3x,or3x));om3x=(om3x-1+ne3x.length)%ne3x.length;s8k=ne3x[om3x]}}bK9B=i8a[s8k];if(bK9B&&!l8d.bbi5n(bK9B))return s8k;or3x=s8k}while(ct9k<i8a.length);return-1};b8h.Ik0x=function(hf1x,GL9C,bbw6q){var js2x=this.kr2x();if(!js2x||!js2x.length)return-1;return k8c.cV0x(js2x,function(r8j){if(r8j.id!=hf1x)return!1;var dK0x=r8j.from;if(!dK0x)return!1;else return!0})};b8h.bnT9K=function(cG0x){if(!cG0x)return;var uN6H=v9m.gG1x("playlist")||"";uN6H=!uN6H?[]:uN6H.split("|");var s8k=k8c.cV0x(uN6H,cG0x+"");if(s8k>=0)uN6H.splice(s8k,1);uN6H.unshift(cG0x);if(uN6H.length>8)uN6H.splice(8,uN6H.length-8);v9m.gG1x("playlist",{value:uN6H.join("|"),expires:7})};H9y.ft1x.B9s({element:p8h.kJ2x,event:["playchange","queuechange","settingchange","playresource","playerror"]})})();
(function(){var c8g=NEJ.P,Y9P=NEJ.O,a7h=c8g("nej.e"),v9m=c8g("nej.j"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),H9y=c8g("nej.ut"),di0x=c8g("nm.u"),b8h,K9B;di0x.Ql2x=NEJ.C();b8h=di0x.Ql2x.O9F(H9y.cz9q);b8h.cl9c=function(){var baH5M=function(T9K){h8b.q8i(this.bz9q,T9K,this.cjB1x.g8c(this,T9K))};return function(){this.cs9j();this.bz9q=new Audio;this.kO2x=["play","pause","ended","playing","progress","loadeddata","timeupdate","error","emptied"];k8c.be9V(this.kO2x,baH5M,this);this.bgT7M=0;this.Qj2x=0}}();b8h.bD9u=function(){this.sy4C();this.bH9y()};b8h.sy4C=function(){if(!this.bz9q.currentSrc)return;this.SD3x();try{this.bz9q.currentTime=0}catch(e){}this.bz9q.pause();this.bz9q.src=""};b8h.cjB1x=function(T9K){switch(T9K){case"play":case"loadeddata":if(T9K=="loadeddata")this.SD3x();this.z9q("onstatechange",{state:0});break;case"pause":this.z9q("onstatechange",{state:2});break;case"ended":this.z9q("onstatechange",{state:4});break;case"playing":this.z9q("onstatechange",{state:1});break;case"progress":if(!this.bz9q.buffered.length)return;var a7h=this.bz9q.buffered.end(0);this.z9q("onloadprogress",{loaded:a7h,duration:this.bz9q.duration});break;case"timeupdate":this.z9q("onplayprogress",{current:this.bz9q.currentTime,duration:this.bz9q.duration});break;case"emptied":break;case"error":var bQ9H=this.bz9q.error,bK9B=this.bz9q.currentSrc,SE3x=this.bz9q.currentTime;if(bQ9H){switch(bQ9H.code){case bQ9H.MEDIA_ERR_ABORTED:case bQ9H.MEDIA_ERR_DECODE:case bQ9H.MEDIA_ERR_ENCRYPTED:this.z9q("onplayerror",{error:bQ9H.code,src:bK9B,time:SE3x});break;case bQ9H.MEDIA_ERR_NETWORK:this.bgX7Q(bK9B,SE3x);break;case bQ9H.MEDIA_ERR_SRC_NOT_SUPPORTED:if(!!this.bz9q.src&&this.bz9q.src!=location.protocol+"//"+location.host+"/"&&this.bz9q.src.indexOf("#")<0){this.z9q("onplayerror",{error:bQ9H.code,src:bK9B,time:SE3x})}break;default:this.z9q("onplayerror",{error:-1,src:bK9B,time:SE3x});break}}break}};b8h.eN0x=function(dv0x,yI7B,pS4W,Qq2x){this.SD3x();if(yI7B>0){if(Qq2x){v9m.bp9g("/api/song/enhance/dj/audition/url",{type:"json",query:{id:yI7B,br:192e3},onload:function(gS1x){if(gS1x&&gS1x.data&&gS1x.data.url){doPlay.call(this,gS1x.data.url)}}.g8c(this)})}else{v9m.bp9g("/api/song/enhance/player/url",{type:"json",query:{ids:JSON.stringify([yI7B]),br:128e3},onload:function(gS1x){if(gS1x.code==200&&gS1x.data&&gS1x.data.length){var bt9k=gS1x.data[0];if(bt9k.url){doPlay.call(this,bt9k.url)}}}.g8c(this)})}}else{doPlay.call(this,dv0x)}function doPlay(dv0x){this.bz9q.src=dv0x;if(pS4W===undefined)pS4W=true;if(pS4W){this.bz9q.play()}}};b8h.SD3x=function(){this.Qj2x=0;this.bgT7M=clearTimeout(this.bgT7M)};b8h.bgX7Q=function(dv0x,bgY7R){if(!dv0x||this.Qj2x>5){if(this.Qj2x>5)this.z9q("onplayerror",{error:2,src:dv0x,time:bgY7R});this.SD3x();return}if(this.Qj2x>0){var s8k=dv0x.indexOf("#");dv0x=s8k>=0?dv0x.substring(0,s8k):dv0x;this.bz9q.src=dv0x+"#t="+bgY7R;this.bz9q.play()}this.Qj2x++;this.bgT7M=setTimeout(arguments.callee.g8c(this,dv0x,bgY7R),5e3)};b8h.fu1x=function(){this.bz9q.pause()};b8h.mO3x=function(){this.bz9q.play()};b8h.bh9Y=function(){this.sy4C();this.z9q("onstatechange",{state:3})};b8h.ns3x=function(fy1x){if(!this.bz9q.currentSrc)return;this.bz9q.currentTime=this.bz9q.duration*fy1x};b8h.Ch8Z=function(Qm2x){this.bz9q.muted=!!Qm2x;this.z9q("onmutedchange",{muted:Qm2x})};b8h.lT2x=function(A9r){this.bz9q.volume=A9r;this.z9q("onvolumechange",{value:A9r})};b8h.vt6n=function(){return this.bz9q.currentTime>0&&!this.bz9q.ended&&!this.bz9q.paused}})();
(function(){var c8g=NEJ.P,Y9P=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),H9y=c8g("nej.ut"),di0x=c8g("nm.u"),b8h,K9B;di0x.ES9J=NEJ.C();b8h=di0x.ES9J.O9F(H9y.cz9q);b8h.cl9c=function(){this.cs9j();a7h.qd4h({src:location.protocol+"//music.163.com/style/swf/CloudMusicPlayer.swf?v=2014060988888",hidden:true,parent:document.body,params:{flashvars:"hostname="+location.hostname,allowscriptaccess:"always",wmode:"transparent"},onready:this.Qk2x.g8c(this)});window.onIoError=this.vE6y.g8c(this);window.onLoadProgress=this.vG6A.g8c(this);window.onPlayProgress=this.tr5w.g8c(this);window.onPlayComplete=this.ckG1x.g8c(this)};b8h.bD9u=function(){this.sy4C();this.cxp4t()};b8h.Qk2x=function(hb1x){this.bz9q=hb1x;if(typeof console==="undefined"){console={}}console.aslog=this.cks1x.g8c(this);this.lT2x(this.cjS1x);this.eN0x(this.hZ1x)};b8h.cks1x=function(bF9w){this.bz9q.as_postMessage(bF9w)};b8h.sy4C=function(){delete this.hZ1x;if(this.bz9q){this.bz9q.as_stop();this.bz9q.as_clear()}};b8h.vE6y=function(bQ9H){this.z9q("onplayerror",{name:"ioerror",code:bQ9H})};b8h.vG6A=function(nV3x,co9f){if(this.fT1x<1)return;this.z9q("onloadprogress",{loaded:nV3x/1e3,duration:co9f/1e3})};b8h.tr5w=function(cjP1x,co9f){this.fT1x=co9f;this.z9q("onplayprogress",{current:cjP1x/1e3,duration:co9f/1e3})};b8h.ckG1x=function(j8b){this.z9q("onstatechange",{state:4})};b8h.eN0x=function(dv0x,yI7B,pS4W,Qq2x){this.sy4C();if(yI7B>0){if(Qq2x){v9m.bp9g("/api/song/enhance/dj/audition/url",{type:"json",query:{id:yI7B,br:192e3},onload:function(gS1x){if(gS1x&&gS1x.data&&gS1x.data.url){doPlay.call(this,gS1x.data.url)}}.g8c(this)})}else{v9m.bp9g("/api/song/enhance/player/url",{type:"json",query:{ids:JSON.stringify([yI7B]),br:128e3},onload:function(gS1x){if(gS1x.code==200&&gS1x.data&&gS1x.data.length){var bt9k=gS1x.data[0];if(bt9k.url){doPlay.call(this,bt9k.url)}}}.g8c(this)})}}else{doPlay.call(this,dv0x)}function doPlay(dv0x){if(!dv0x)return;this.hZ1x=dv0x;this.fT1x=0;if(this.bz9q){this.bz9q.as_addSong({id:yI7B,url:this.hZ1x});if(pS4W===undefined)pS4W=true;if(pS4W){this.bz9q.as_play();this.z9q("onstatechange",{state:1})}}}};b8h.fu1x=function(){if(this.bz9q&&this.hZ1x){this.bz9q.as_pause();this.z9q("onstatechange",{state:2})}};b8h.mO3x=function(){if(this.bz9q&&this.hZ1x){this.bz9q.as_play();this.z9q("onstatechange",{state:1})}};b8h.bh9Y=function(){this.sy4C();this.z9q("onstatechange",{state:3})};b8h.ns3x=function(fy1x){if(!this.bz9q||!this.hZ1x)return;this.bz9q.as_setPosition(this.fT1x*fy1x);this.bz9q.currentTime=this.bz9q.duration*fy1x};b8h.Ch8Z=function(Qm2x){if(this.bz9q)this.bz9q.as_setMuted(!!Qm2x);this.z9q("onmutedchange",{muted:Qm2x})};b8h.lT2x=function(A9r){this.cjS1x=A9r;if(this.bz9q)this.bz9q.as_setVolume(A9r);this.z9q("onvolumechange",{value:A9r})};b8h.vt6n=function(){return this.bz9q&&this.bz9q.as_isPlaying()}})();
(function(){var c8g=NEJ.P,Y9P=NEJ.O,bm9d=NEJ.F,M9D=c8g("nej.ut"),b8h;if(!!M9D.bpt9k)return;M9D.bpt9k=NEJ.C();b8h=M9D.bpt9k.O9F(M9D.cz9q);b8h.bk9b=function(e8e){this.bl9c(e8e);this.WD4H=e8e.to||Y9P;this.MD1x=e8e.from||{};this.bZp8h=Math.max(0,parseInt(e8e.delay)||0)};b8h.bD9u=function(){this.bH9y();this.bh9Y();if(!!this.MF1x){window.clearTimeout(this.MF1x);delete this.MF1x}delete this.WD4H;delete this.MD1x};b8h.bxJ1x=function(bB9s){if(!this.MD1x)return;if((""+bB9s).indexOf(".")>=0)bB9s=+(new Date);if(this.bxI1x(bB9s)){this.bh9Y();return}this.dL0x=requestAnimationFrame(this.bxJ1x.g8c(this))};b8h.bxI1x=bm9d;b8h.eN0x=function(){var bZg8Y=function(){this.MF1x=window.clearTimeout(this.MF1x);this.MD1x.time=+(new Date);this.dL0x=requestAnimationFrame(this.bxJ1x.g8c(this))};return function(){this.MF1x=window.setTimeout(bZg8Y.g8c(this),this.bZp8h);return this}}();b8h.bh9Y=function(){this.dL0x=cancelRequestAnimationFrame(this.dL0x);this.z9q("onstop");return this}})();
(function(){var c8g=NEJ.P,Y9P=NEJ.O,k8c=c8g("nej.u"),M9D=c8g("nej.ut"),b8h,K9B;if(!!M9D.BT8L)return;M9D.BT8L=NEJ.C();b8h=M9D.BT8L.O9F(M9D.bpt9k);K9B=M9D.BT8L.cg9X;b8h.bk9b=function(e8e){this.bl9c(e8e);this.bpG9x=e8e.duration||200;this.bYI8A=1/(200*this.bpG9x);this.bYF8x(e8e.timing);this.bYE8w()};b8h.bD9u=function(){this.bH9y();delete this.Fz9q;delete this.bpO9F};b8h.bYF8x=function(){var fZ1x=/^cubic\-bezier\((.*?)\)$/i,jr2x=/\s*,\s*/i,bxB1x={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var bYu8m=function(A9r,s8k,i8a){i8a[s8k]=parseFloat(A9r)};return function(Wv4z){Wv4z=(Wv4z||"").toLowerCase();this.Fz9q=bxB1x[Wv4z];if(fZ1x.test(Wv4z)){this.Fz9q=RegExp.$1.split(jr2x);k8c.be9V(this.Fz9q,bYu8m)}if(!!this.Fz9q)return;this.Fz9q=bxB1x.ease}}();b8h.bYE8w=function(){var Fw9n=this.Fz9q,bpU9L=3*Fw9n[0],bxz1x=3*(Fw9n[2]-Fw9n[0])-bpU9L,bYj8b=1-bpU9L-bxz1x,bqc9T=3*Fw9n[1],bxx1x=3*(Fw9n[3]-Fw9n[1])-bqc9T,bXW8O=1-bqc9T-bxx1x;this.bpO9F={ax:bYj8b,ay:bXW8O,bx:bxz1x,by:bxx1x,cx:bpU9L,cy:bqc9T}};b8h.bXO8G=function(){var bxu1x=function(bB9s,os3x){return((os3x.ax*bB9s+os3x.bx)*bB9s+os3x.cx)*bB9s};var bXG8y=function(bB9s,os3x){return((os3x.ay*bB9s+os3x.by)*bB9s+os3x.cy)*bB9s};var bXA8s=function(bB9s,os3x){return(3*os3x.ax*bB9s+2*os3x.bx)*bB9s+os3x.cx};var bXr8j=function(bB9s,bxs1x,os3x){var t0,t1,t2,x2,d2,i;for(t2=bB9s,i=0;i<8;i++){x2=bxu1x(t2,os3x)-bB9s;if(Math.abs(x2)<bxs1x)return t2;d2=bXA8s(t2,os3x);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=bB9s;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=bxu1x(t2,os3x);if(Math.abs(x2-bB9s)<bxs1x)return t2;if(bB9s>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(dh0x){return bXG8y(bXr8j(dh0x/this.bpG9x,this.bYI8A,this.bpO9F),this.bpO9F)}}();b8h.bxI1x=function(bB9s){var dh0x=bB9s-this.MD1x.time,vF6z=this.bXO8G(dh0x),bj9a=k8c.GV0x(this.MD1x.offset*(1-vF6z)+this.WD4H.offset*vF6z,2),ni3x=!1;if(dh0x>=this.bpG9x){bj9a=this.WD4H.offset;ni3x=!0}this.z9q("onupdate",{offset:bj9a});return ni3x};b8h.bh9Y=function(){this.z9q("onupdate",{offset:this.WD4H.offset});K9B.bh9Y.apply(this,arguments);return this}})();
(function(){var c8g=NEJ.P,M9D=c8g("nej.ut"),b8h;if(!!M9D.Hl0x)return;M9D.Hl0x=NEJ.C();b8h=M9D.Hl0x.O9F(M9D.BT8L);b8h.bk9b=function(e8e){e8e=NEJ.X({},e8e);e8e.timing="easein";this.bl9c(e8e)}})();
(function(){var c8g=NEJ.P,Y9P=NEJ.O,eU0x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),M9D=c8g("nej.ut"),xW7P;if(!!M9D.XT4X)return;M9D.XT4X=NEJ.C();xW7P=M9D.XT4X.O9F(M9D.cz9q);xW7P.cl9c=function(){this.jI2x={onchange:this.gt1x.g8c(this),ondragend:this.gt1x.dW0x(this,!0)};this.cs9j()};xW7P.bk9b=function(e8e){this.bl9c(e8e);this.jI2x.view=a7h.x9o(e8e.track);this.jI2x.body=a7h.x9o(e8e.slide);this.jI2x.mbar=this.jI2x.view;this.sU5Z(e8e.range);this.bU9L([[this.jI2x.view,"mousedown",this.bRc6W.g8c(this)]]);this.iY2x=M9D.wh6b.B9s(this.jI2x)};xW7P.bD9u=function(){this.bH9y();this.iY2x.S9J();delete this.iY2x;delete this.gD1x;delete this.jI2x.view;delete this.jI2x.body;delete this.jI2x.mbar};xW7P.gt1x=function(d8f,gy1x){var bsr0x=d8f.left/this.gD1x.x[1],bsq0x=d8f.top/this.gD1x.y[1],bsp0x=this.gD1x.x,bso0x=this.gD1x.y;this.z9q("onchange",{stopped:!!gy1x,x:{rate:bsr0x,value:bsr0x*(bsp0x[1]-bsp0x[0])},y:{rate:bsq0x,value:bsq0x*(bso0x[1]-bso0x[0])}})};xW7P.bRc6W=function(d8f){var bj9a=a7h.hL1x(this.jI2x.view),bsl0x={x:h8b.kv2x(d8f),y:h8b.nO3x(d8f)},dh0x={x:Math.floor(this.jI2x.body.offsetWidth/2),y:Math.floor(this.jI2x.body.offsetHeight/2)};this.iY2x.fU1x({top:bsl0x.y-bj9a.y-dh0x.y,left:bsl0x.x-bj9a.x-dh0x.x})};xW7P.sU5Z=function(cH0x){var qf4j;if(!!this.gD1x){var mZ3x=this.iY2x.baD5I();qf4j={x:mZ3x.left/this.gD1x.x[1],y:mZ3x.top/this.gD1x.y[1]}}cH0x=cH0x||Y9P;var bOc5h=(cH0x.x||eU0x)[1]||this.jI2x.view.clientWidth-this.jI2x.body.offsetWidth,bOb5g=(cH0x.y||eU0x)[1]||this.jI2x.view.clientHeight-this.jI2x.body.offsetHeight;this.gD1x={x:cH0x.x||[0,bOc5h],y:cH0x.y||[0,bOb5g]};if(!!qf4j)this.fU1x(qf4j);return this};xW7P.fU1x=function(qf4j){qf4j=qf4j||Y9P;this.iY2x.fU1x({top:this.gD1x.y[1]*(qf4j.y||0),left:this.gD1x.x[1]*(qf4j.x||0)})}})();
(function(){var M9D=NEJ.P("nej.ut"),bsk0x;if(!!M9D.II0x)return;M9D.II0x=NEJ.C();bsk0x=M9D.II0x.O9F(M9D.XT4X);bsk0x.cl9c=function(){this.cs9j();this.jI2x.direction=2}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),M9D=c8g("nej.ut"),vg6a;M9D.DT9K=NEJ.C();vg6a=M9D.DT9K.O9F(M9D.cz9q);vg6a.bk9b=function(e8e){this.bl9c(e8e);this.cpC2x=!!e8e.reset;this.PC2x=parseInt(e8e.delta)||0;this.hZ1x=a7h.x9o(e8e.track);this.bsg0x=a7h.x9o(e8e.progress);this.bU9L([[e8e.thumb,"mousedown",this.cjR1x.g8c(this)],[document,"mousemove",this.bse0x.g8c(this)],[document,"mouseup",this.bop9g.g8c(this)],[this.hZ1x,"mousedown",this.bsd0x.g8c(this)]]);var fy1x=e8e.value;if(fy1x==null){fy1x=this.bsg0x.offsetWidth/this.hZ1x.offsetWidth}this.fU1x(fy1x)};vg6a.bD9u=function(){if(!!this.cpC2x)this.Lb1x(0);this.bH9y()};vg6a.cjR1x=function(d8f){if(!!this.hV1x)return;h8b.bh9Y(d8f);this.hV1x=h8b.kv2x(d8f);this.bsc0x=this.hZ1x.offsetWidth};vg6a.bse0x=function(d8f){if(!this.hV1x)return;var bj9a=h8b.kv2x(d8f),dh0x=bj9a-this.hV1x;this.hV1x=bj9a;this.Lb1x(this.DW9N+dh0x/this.bsc0x);this.z9q("onslidechange",{ratio:this.DW9N})};vg6a.bop9g=function(d8f){if(!this.hV1x)return;this.bse0x(d8f);delete this.hV1x;delete this.bsc0x;this.z9q("onslidestop",{ratio:this.DW9N})};vg6a.bsd0x=function(d8f){var cfO9F=a7h.hL1x(this.hZ1x).x,cfq9h=h8b.kv2x(d8f);this.Lb1x((cfq9h-cfO9F+this.PC2x)/this.hZ1x.offsetWidth);this.z9q("onslidestop",{ratio:this.DW9N})};vg6a.Lb1x=function(fy1x){this.DW9N=Math.max(0,Math.min(1,fy1x));a7h.X9O(this.bsg0x,"width",this.DW9N*100+"%")};vg6a.fU1x=function(fy1x){if(!!this.hV1x)return;this.Lb1x(fy1x)};vg6a.baD5I=function(fy1x){return this.DW9N}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bd9U=c8g("nej.ui"),l8d=c8g("nm.x"),L9C=c8g("nm.m.f"),b8h,K9B;var bmH8z=function(){var MO1x=function(hn1x,dD0x){if(!hn1x||!hn1x.name)return"";if(!hn1x.id)return'<span class="'+dD0x+'">'+k8c.dM0x(hn1x.name)+"</span>";return'<a class="'+dD0x+'"title="'+k8c.dM0x(hn1x.name)+'" data-jump="/artist?id='+hn1x.id+'" hidefocus="true">'+k8c.dM0x(hn1x.name)+"</a>"};return function(fo1x,T9K,ve6Y){if(!fo1x||!fo1x.length)return"";for(var i=0,i8a=[],rd4h=[],fh1x;i<fo1x.length;++i){if(!fo1x[i]||fo1x[i].id<=0){rd4h.push(fo1x[i]);continue}if(k8c.gf1x(T9K)){fh1x=T9K(fo1x[i])}else{fh1x=MO1x(fo1x[i],T9K)}!!fh1x&&i8a.push(fh1x)}for(var i=0,fh1x;i<rd4h.length;++i){if(k8c.gf1x(T9K)){fh1x=T9K(rd4h[i])}else{fh1x=MO1x(rd4h[i],T9K)}!!fh1x&&i8a.push(fh1x)}return i8a.join(ve6Y||"/")}}();L9C.bmD8v=NEJ.C();b8h=L9C.bmD8v.O9F(bd9U.rC4G);b8h.bD9u=function(){a7h.w9n(this.o8g,"z-hover");this.kk2x(!1);this.bH9y()};b8h.bZ9Q=function(){this.ca9R="m-player-playtrack"};b8h.bR9I=function(){this.cc9T();a7h.y9p(this.o8g,"js-iparent");var i8a=a7h.I9z(this.o8g,"j-flag");this.pq3x=i8a[0];this.cgy0x=i8a[1];l8d.rh4l(this.o8g,"z-hover")};b8h.hp1x=function(){var cgD0x=function(bf9W){if(!bf9W)return"";if(bf9W.program){var du0x=bf9W.program.dj;return!du0x?"":'<a  data-jump="/user/home?id='+du0x.userId+'"title = "'+k8c.dM0x(du0x.nickname)+'" hidefocus="true">'+k8c.dM0x(du0x.nickname)+"</a>"}return bmH8z(bf9W.artists)};return function(j8b){this.pq3x.innerHTML=(j8b.name||"")+(!j8b.djprogram?"":"[DJ节目]");this.pq3x.title=(j8b.name||"")+(!j8b.djprogram?"":"[DJ节目]");this.cgy0x.innerHTML=cgD0x(j8b)}}();b8h.kk2x=function(po3x){!po3x?a7h.w9n(this.o8g,"z-cur"):a7h.y9p(this.o8g,"z-cur")}})();
(function(){var c8g=NEJ.P,dO0x=window,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),H9y=c8g("nej.ut"),cX0x=c8g("nm.i"),p8h=c8g("nm.d"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),F9w=c8g("nm.m"),di0x=c8g("nm.u"),L9C=c8g("nm.m.f"),b8h,K9B;L9C.bmw8o=NEJ.C();b8h=L9C.bmw8o.O9F(H9y.do0x);b8h.bJ9A=function(){this.bM9D();this.o8g=a7h.dq0x("m-mailplayer-playlist");var lF2x=a7h.I9z(this.o8g,"j-flag");this.bG9x=lF2x[0];this.cgI0x=lF2x[1];this.bU9L([[this.o8g,"click",this.cx9o.g8c(this)],[p8h.kJ2x,"queuechange",this.um6g.g8c(this)],[p8h.kJ2x,"settingchange",this.bpe9V.g8c(this)]]);this.P9G=p8h.kJ2x.B9s()};b8h.ej0x=function(e8e){var xM7F=this.P9G.XE4I(),i8a=this.P9G.kr2x();this.bG9x.style.display=!i8a.length?"none":"";this.cgI0x.style.display=!i8a.length?"":"none";this.fd1x=L9C.bmD8v.S9J(this.fd1x);this.fd1x=a7h.yP7I(i8a,L9C.bmD8v,{parent:this.bG9x});if(this.fd1x[xM7F]){this.fd1x[xM7F].kk2x(true);var f8d=this.bG9x.parentNode,bj9a=xM7F*28;return;f8d.scrollTop=Math.min(f8d.scrollHeight,bj9a-28)}};b8h.cx9o=function(){var cgU0x=function(f8d){var cI0x=f8d;while(!!cI0x&&!a7h.by9p(cI0x,"js-iparent"))cI0x=cI0x.parentNode;return cI0x};var cgV0x=function(i8a,f8d){if(!i8a||!i8a.length||!f8d)return-1;var cgX0x=cgU0x(f8d),s8k=k8c.cV0x(i8a,function(r8j){return r8j.kA2x()===cgX0x});return s8k};return function(d8f){var f8d=h8b.U9L(d8f);if(f8d.href){if(/#$/.test(f8d.href))h8b.ce9V(d8f);else return}var f8d=h8b.U9L(d8f,"d:action");var Lg1x=h8b.U9L(d8f,"d:jump");if(!f8d||Lg1x)return;h8b.ce9V(d8f);var W9N=a7h.u8m(f8d,"action"),s8k=cgV0x(this.fd1x,f8d);switch(W9N){case"iplay":this.P9G.kk2x(s8k);break;case"idelete":location.hash="";this.P9G.bRz6t(s8k);break}}}();b8h.hd1x=function(d8f){if(!this.fd1x||!this.fd1x.length)return;var r8j=this.fd1x[d8f.oldValue];!!r8j&&r8j.kk2x(!1);r8j=this.fd1x[d8f.newValue];!!r8j&&r8j.kk2x(!0);if(d8f.deleted!="deleted")this.fU1x()};b8h.um6g=function(d8f){this.z9q("onrefresh")};b8h.bpe9V=function(d8f){if(d8f.key=="index"){this.hd1x(d8f)}};b8h.bq9h=function(){this.z9q("onhide");this.z9q("onclose")};b8h.GY0x=function(){return!!this.o8g.parentNode&&!!this.o8g.parentNode.tagName};b8h.kA2x=function(){return this.o8g};b8h.fU1x=function(){var xM7F=this.P9G.XE4I();if(xM7F>=0){var f8d=this.bG9x.parentNode,bj9a=xM7F*28;if(bj9a<f8d.scrollTop||bj9a>=f8d.scrollTop+28*10)f8d.scrollTop=Math.min(f8d.scrollHeight,bj9a)}}})();
(function(){var c8g=NEJ.P,dO0x=window,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),M9D=c8g("nej.p"),v9m=c8g("nej.j"),H9y=c8g("nej.ut"),p8h=c8g("nm.d"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),F9w=c8g("nm.m"),di0x=c8g("nm.u"),L9C=c8g("nm.m.f"),dp0x=c8g("window.player"),b8h,K9B;var DY9P=function(){var AE8w=l8d.Ab8T();if(AE8w>0)return!0;return!1};var xv7o=function(){var KT1x=typeof GAbroad==="undefined"?!1:!!GAbroad;if(KT1x){return!0}return!1};L9C.bze1x=NEJ.C();b8h=L9C.bze1x.O9F(H9y.do0x);b8h.bJ9A=function(){this.bM9D();this.o8g=a7h.I9z(document.body,"js-mailbox")[0];this.Hb0x=a7h.I9z(document.body,"icn-st")[0];this.gv1x=k8c.mP3x();var lF2x=a7h.I9z(this.o8g,"j-flag");this.wo6i=a7h.I9z(this.Hb0x,"j-flag")[0];this.FR9I=lF2x[0];this.ic1x=lF2x[1];this.bmm8e=lF2x[2];this.chr0x=lF2x[3];this.Mo1x=lF2x[4];this.Ap8h=lF2x[5];this.bV9M=lF2x[6];this.kY2x=lF2x[7];var yF7y=a7h.cQ0x(this.Mo1x);this.cbY9P=yF7y[0];this.sj4n=yF7y[1];this.cwE3x=yF7y[2];this.bmi8a=yF7y[4];var xQ7J=a7h.I9z(this.chr0x,"j-item");this.cwD3x=xQ7J[0];this.chI0x=xQ7J[1];this.bzi1x=xQ7J[2];this.cf9W=xQ7J[3];this.kE2x=xQ7J[4];this.KU1x=false;var vp6j=k8c.hi1x(location.search.split("?")[1]).host;WebmailHelper.init({cross:true,host:vp6j});WebmailHelper.setMusicBoxYyy=function(gu1x){WebmailHelper.cross("parent","$.AppInterface.cloudmusic.setMusicBox",gu1x)};WebmailHelper.goMusicBoxYyy=function(V9M){WebmailHelper.cross("parent","$.AppInterface.cloudmusic.goMusicBox",{url:V9M})};window.YB4F=location.hash;WebmailHelper.setMusicBoxYyy({height:24,width:34});setTimeout(function(){a7h.X9O(this.Hb0x,"visibility","visible")}.g8c(this),500);this.Ei9Z=H9y.DT9K.B9s({track:xQ7J[0],thumb:xQ7J[3],progress:xQ7J[2],value:0,onslidestop:this.boU9L.g8c(this)});var blA8s=a7h.I9z(this.Ap8h,"j-t");this.uq6k=H9y.XT4X.B9s({track:blA8s[0],slide:blA8s[2],onchange:this.boW9N.g8c(this)});this.boX9O=blA8s[1];var AE8w=l8d.Ab8T(),dD0x=AE8w==2?di0x.Ql2x:di0x.ES9J;window.bz9q=this.bz9q=dD0x.B9s({onplayerror:this.vE6y.g8c(this),onstatechange:this.hj1x.g8c(this),onloadprogress:this.vG6A.g8c(this),onplayprogress:this.tr5w.g8c(this)});this.kd2x=p8h.hK1x.B9s();this.P9G=p8h.kJ2x.B9s();this.qy4C=p8h.uJ6D.B9s();this.qy4C.q8i("onresourceload",this.KD1x.g8c(this));this.qy4C.q8i("onresourceerror",this.KC1x.g8c(this));this.bU9L([[this.o8g,"click",this.cx9o.g8c(this)],[this.Hb0x,M9D.cS0x.browser=="ie"?"mouseleave":"mouseout",this.bzk1x.g8c(this,!1)],[this.Hb0x,M9D.cS0x.browser=="ie"?"mouseenter":"mouseover",this.bzk1x.g8c(this,!0)],[this.Hb0x,"click",this.chS0x.g8c(this)],[this.cf9W,"mousedown",this.cia0x.g8c(this)],[document.body,"mouseup",this.cic0x.g8c(this)],[p8h.kJ2x,"playchange",this.hd1x.g8c(this)],[p8h.kJ2x,"queuechange",this.um6g.g8c(this)]]);if(typeof Hash!=="undefined"&&Hash.init){Hash.init(this.Wb4f.g8c(this))}else{h8b.q8i(location,"urlchange",this.pH4L.g8c(this));location.active()}this.cid0x(v9m.gG1x("playliststatus"));this.WR4V()};b8h.ej0x=function(e8e){var i8a=this.P9G.kr2x(),hA1x=this.P9G.nZ3x();this.bz9q.lT2x(hA1x.volume);this.uq6k.fU1x({x:hA1x.volume,y:0});this.qs4w(this.P9G.vf6Z(hA1x.index))};b8h.qs4w=function(bK9B){if(!bK9B){this.bz9q.bh9Y();this.Ei9Z.fU1x(0);a7h.y9p(this.Mo1x,"z-dis");this.FR9I.src="/style/web2/img/default/default_album.jpg";this.bmm8e.innerHTML="";this.ic1x.innerHTML="";a7h.u8m(this.ic1x,"jump","");a7h.u8m(this.FR9I,"jump","");this.kE2x.innerHTML="00:00 / 00:00";a7h.X9O(this.bzi1x,"width","0%");this.ry4C("pause");return}a7h.w9n(this.Mo1x,"z-dis");this.Ei9Z.fU1x(0);this.FR9I.src=!bK9B.album||!bK9B.album.picUrl?"/style/web2/img/default/default_album.jpg":bK9B.album.picUrl+"?param=130x130";this.kE2x.innerHTML="00:00 / 00:00";var dK0x=l8d.bbn5s(bK9B.from),j8b=NEJ.X({source:dK0x},bK9B);this.ic1x.innerHTML="<span title='"+j8b.name+"'>"+j8b.name+"</span>";this.bmm8e.innerHTML=function(){var HG0x;if(!!j8b.program){HG0x="<a class='s-fc4' data-jump='/user/home?id="+j8b.program.dj.userId+"'title='"+j8b.program.dj.nickname+"'>"+j8b.program.dj.nickname+"</a>"}else{for(var bd9U=0;bd9U<j8b.artists.length;bd9U++){if(bd9U==0){if(!!j8b.artists[bd9U].id)HG0x="<a class='s-fc4' data-jump='/artist?id="+j8b.artists[bd9U].id+"'title='"+j8b.artists[bd9U].name+"'>"+j8b.artists[bd9U].name+"</a>";else HG0x="<span class='s-fc4'>"+j8b.artists[bd9U].name+"</span>"}else{if(!!j8b.artists[bd9U].id)HG0x+="/"+"<a class='s-fc4' data-jump='/artist?id="+j8b.artists[bd9U].id+"'title='"+j8b.artists[bd9U].name+"'>"+j8b.artists[bd9U].name+"</a>";else HG0x+="/"+"<span class='s-fc4'>"+j8b.artists[bd9U].name+"</span>"}}}return HG0x}();if(!bK9B.program){a7h.u8m(a7h.cQ0x(this.ic1x)[0],"jump","/song?id="+bK9B.id);a7h.u8m(this.FR9I,"jump","/song?id="+bK9B.id)}else{a7h.u8m(a7h.cQ0x(this.ic1x)[0],"jump","/dj?id="+bK9B.program.id);a7h.u8m(this.FR9I,"jump","/dj?id="+bK9B.program.id)}a7h.X9O(this.bzi1x,"width","0%")};b8h.cic0x=function(){this.YV5a=false};b8h.cia0x=function(){this.YV5a=true;a7h.X9O(this.cwC3x,"visibility","hidden")};b8h.boU9L=function(d8f){this.bz9q.ns3x(d8f.ratio);this.YV5a=false};b8h.boW9N=function(d8f){var A9r=d8f.x.rate,cp9g=62*A9r;a7h.X9O(this.boX9O,"width",cp9g+"px");this.bz9q.lT2x(A9r);if(d8f.stopped)this.P9G.rA4E("volume",A9r)};b8h.vE6y=function(){location.hash=""};b8h.hj1x=function(d8f){if(d8f.state==1||d8f.state==2){var s8k=this.P9G.LC1x(),bK9B=this.P9G.vf6Z(s8k)}if(d8f.state==2||d8f.state==3){a7h.w9n(this.sj4n,"icn-pause");d8f.state==2?a7h.y9p(this.sj4n,"js-pause"):a7h.w9n(this.sj4n,"js-pause");if(d8f.state==3)document.title=l8d.qE4I();return}a7h.y9p(this.sj4n,"icn-pause");a7h.w9n(this.sj4n,"js-pause");if(d8f.state==4){var eC0x=4;switch(eC0x){case 1:break;case 2:this.eN0x();break;case 3:case 4:case 5:var js2x=this.P9G.kr2x();if(!js2x.length){this.qs4w(null)}else{this.nq3x()}break}}};b8h.vG6A=function(){var qZ4d=0;return function(d8f){a7h.X9O(this.chI0x,"width",d8f.loaded*100/d8f.duration+"%")}}();b8h.tr5w=function(){var qZ4d=0;return function(d8f){if(this.tV6P)this.tV6P.time=d8f.current;var H9y=+(new Date);if(H9y-qZ4d<1e3)return;qZ4d=H9y;this.Ei9Z.fU1x(d8f.current/d8f.duration);this.kE2x.innerHTML=l8d.lN2x(d8f.current)+" / "+l8d.lN2x(d8f.duration);var C9t=v9m.gG1x("playerid");if(!!C9t&&C9t!=this.gv1x)this.fu1x()}}();b8h.bzk1x=function(){var gz1x=0,hf1x=0;return function(Ag8Y,d8f){var f8d=h8b.U9L(d8f);if(l8d.cde9V(d8f,this.Hb0x)){if(Ag8Y){gz1x=+(new Date);hf1x=setTimeout(function(){WebmailHelper.setMusicBoxYyy({height:545,width:455});a7h.X9O(this.o8g,"visibility","visible");a7h.X9O(this.o8g,"display","block");if(this.kS2x)this.kS2x.fU1x()}.g8c(this),500)}else{WebmailHelper.setMusicBoxYyy({height:24,width:34});if(+(new Date)-gz1x<500){clearTimeout(hf1x);gz1x=0;console.log("hover 无效，防止误操作")}}}}}();b8h.chS0x=function(d8f){var dd0x=h8b.U9L(d8f);if(a7h.by9p(dd0x,"outer"))return;var V9M=location.protocol+"//music.163.com/musicbox?ref=mail"+window.YB4F;WebmailHelper.goMusicBoxYyy(V9M)};b8h.cx9o=function(d8f){h8b.rD4H(d8f);var dd0x=h8b.U9L(d8f);if(!a7h.by9p(dd0x,"j-vol")){a7h.X9O(this.Ap8h,"visibility","hidden")}var f8d=h8b.U9L(d8f,"d:action");var Lg1x=h8b.U9L(d8f,"d:jump");if(!f8d&&!Lg1x){return}h8b.ce9V(d8f);var W9N=a7h.u8m(f8d,"action");if(Lg1x)var YT5Y=a7h.u8m(Lg1x,"jump");switch(W9N){case"prev":this.zf7Y();break;case"play":if(DY9P()){this.bz9q.vt6n()?this.fu1x():a7h.by9p(f8d,"js-pause")?this.mO3x():this.eN0x()}break;case"next":this.nq3x();break;case"volum":if(this.Ap8h.style.visibility!="hidden")a7h.X9O(this.Ap8h,"visibility","hidden");else a7h.X9O(this.Ap8h,"visibility","visible");break;case"unfold":this.bzl1x();break}if(YT5Y){var vp6j=location.protocol+"//music.163.com",YX5c;if(v9m.gG1x("BOX_DISABLE")){YX5c=location.protocol+"//music.163.com/musicbox?ref=mail"+window.YB4F}else if(YT5Y.search(/\?/)!=-1){YX5c=vp6j+YT5Y+"&ref=mail"+window.YB4F}else{YX5c=vp6j+YT5Y+"?ref=mail"+window.YB4F}WebmailHelper.goMusicBoxYyy(YX5c)}};b8h.cis0x=function(d8f){if(d8f.code==200){this.P9G.bnK9B(d8f.tracks,d8f.type,d8f.rid,d8f.from,2);if(d8f.type==13)this.P9G.bnT9K(d8f.rid)}this.sD4H({rtype:d8f.type,rid:d8f.rid,code:d8f.code,list:d8f.tracks})};b8h.cwB3x=function(){location.hash=""};b8h.hd1x=function(d8f){if(d8f.newValue!=d8f.oldValue&&this.tV6P)this.kd2x.bhf7Y(this.tV6P.id,this.tV6P.time);if(d8f.newValue<0){this.qs4w(null);return}var bK9B=this.P9G.vf6Z(d8f.newValue);if(!bK9B)return;if(!bK9B.program&&xv7o())return;this.qs4w(bK9B);v9m.gG1x("playerid",this.gv1x);if(!d8f.autoplay){d8f.autoplay=!a7h.by9p(this.sj4n,"js-pause")}this.bz9q.eN0x("",bK9B.id,d8f.autoplay);if(d8f.autoplay)this.ry4C("play");else this.ry4C("pause")};b8h.um6g=function(){};b8h.Wb4f=function(dG0x){var d8f=location.parse(dG0x);this.pH4L(d8f)};b8h.sD4H=function(){};b8h.pH4L=function(d8f,t8l){if(d8f.path==""||d8f.path=="/app/cloudmusic/proxy.html")return;if(M9D.cS0x.browser=="ie"&&parseInt(M9D.cS0x.version)<=8){doPlay.call(this,d8f)}else if(v9m.gG1x("USER_TRIGGER")){v9m.gG1x("USER_TRIGGER",{path:"/",expire:-1});doPlay.call(this,d8f)}function doPlay(d8f){d8f=decodeURIComponent(d8f.path);d8f=JSON.parse(d8f);this.bzn1x(d8f.type,d8f.id,d8f.action,d8f.play);this.ry4C("add")}};b8h.zf7Y=function(){this.P9G.kk2x(this.P9G.bss0x());this.ry4C("play")};b8h.nq3x=function(){this.P9G.kk2x(this.P9G.bnS9J());this.ry4C("play")};b8h.eN0x=function(){this.P9G.kk2x(this.P9G.LC1x());this.ry4C("play")};b8h.fu1x=function(){location.hash="";this.bz9q.fu1x();this.ry4C("pause")};b8h.mO3x=function(){v9m.gG1x("playerid",this.gv1x);this.bz9q.mO3x();this.ry4C("play")};b8h.ns3x=function(fy1x){this.bz9q.ns3x(fy1x)};b8h.Ak8c=function(){return function(WO4S){if(WO4S){return}if(this.kS2x&&this.kS2x.GY0x())return}}();b8h.KD1x=function(t8l,cG0x,j8b,bc9T){var gC1x=[];switch(t8l){case 2:gC1x=j8b;break;case 13:gC1x=j8b.tracks;break;case 17:j8b.songs=[];var bf9W=NEJ.X({album:{}},j8b.mainSong);bf9W.program=j8b;bf9W.album.picUrl=j8b.coverUrl;gC1x.push(bf9W);break;case 18:gC1x.push(j8b);break;case 19:gC1x=j8b.songs;break}bc9T.rid=cG0x;bc9T.type=t8l;this.Za5f(gC1x,bc9T.play,bc9T)};b8h.KC1x=function(t8l,cG0x,cb9S){this.sD4H({rid:cG0x,type:t8l,code:cb9S,list:[]})};b8h.Za5f=function(i8a,eW0x,bc9T){var cwA3x=this.P9G.kr2x().length,length2;if(!i8a||!i8a.length)return;bc9T=bc9T||{};var cG0x=bc9T.rid,t8l=bc9T.type;if(eW0x&&t8l!=18&&t8l!=17){this.P9G.bnG8y(true)}this.P9G.bnK9B(i8a,{fid:bc9T.fid,fdata:bc9T.fdata,fhref:bc9T.fhref});if(eW0x){if(t8l==18||t8l==17){var s8k=this.P9G.Ik0x(i8a[0].id,bc9T.fid,bc9T.fdata);this.P9G.kk2x(s8k)}else{this.P9G.kk2x(0)}}if(t8l==13)this.P9G.bnT9K(cG0x);cwz3x=this.P9G.kr2x().length;this.sD4H({rid:cG0x,type:t8l,code:200,list:i8a})};b8h.Kz0x=function(t8l,cG0x,eW0x,bc9T){if(t8l!=17&&xv7o())return;if(!DY9P())return;bc9T=bc9T||{};var dG0x="";if(t8l==18){var s8k=this.P9G.Ik0x(cG0x,bc9T.fid,bc9T.fdata);if(s8k>=0){this.sD4H({rid:cG0x,type:t8l,code:200,list:[cG0x]});if(eW0x)this.P9G.kk2x(s8k);this.kd2x.Ko0x({rid:cG0x,type:t8l,hash:dG0x,play:eW0x,source:bc9T.fid,sourceid:bc9T.fdata});return}}var j8b={play:eW0x,fid:bc9T.fid,fdata:bc9T.fdata,fhref:dG0x};this.qy4C.Kl0x(parseInt(t8l),cG0x,{conf:j8b});this.kd2x.Ko0x({rid:cG0x,type:t8l,hash:dG0x,play:eW0x,source:bc9T.fid,sourceid:bc9T.fdata});return this.kd2x.bJR4V(t8l,cG0x)};b8h.bzn1x=function(t8l,cG0x,W9N,eW0x){if(W9N=="stop"){this.ry4C("pause");return this.bz9q.fu1x()}if(W9N=="addto")return this.Kz0x(t8l,cG0x,eW0x);else return this.Kz0x(t8l,cG0x,true)};b8h.brT9K=function(bK9B,t8l,cG0x,dK0x){if(t8l!=17&&xv7o())return;if(!DY9P())return;dK0x=dK0x||l8d.Gx9o();if(!k8c.el0x(bK9B)||bK9B.length==1){var s8k=this.P9G.Ik0x(bK9B.id,t8l,cG0x,dK0x);if(s8k>=0){this.P9G.kk2x(s8k);this.sD4H({rtype:t8l,rid:cG0x,code:200,list:[bK9B]});return}}this.cis0x({code:200,rid:cG0x,type:t8l,from:dK0x,tracks:k8c.el0x(bK9B)?bK9B:[bK9B]})};b8h.ry4C=function(BJ8B){var i8a=this.P9G.kr2x();if(this.KU1x)return;if(BJ8B=="play"){if(!i8a.length)return;this.wo6i.src="/style/web2/img/mail/icn-play.gif";a7h.X9O(this.wo6i,"margin-left","370px");a7h.X9O(this.wo6i,"margin-top","2px")}else if(BJ8B=="pause"){this.wo6i.src="/style/web2/img/mail/icn-pau.png";a7h.X9O(this.wo6i,"margin-left","368px");a7h.X9O(this.wo6i,"margin-top","0px")}else if(BJ8B=="add"){this.KU1x=true;this.wo6i.src="/style/web2/img/mail/icn-add.gif";a7h.X9O(this.wo6i,"margin-left","370px");a7h.X9O(this.wo6i,"margin-top","2px");setTimeout(function(){this.KU1x=false;if(this.bz9q.vt6n())this.ry4C("play");else this.ry4C("pause")}.g8c(this),800)}};b8h.bzl1x=function(){!this.kS2x&&(this.kS2x=L9C.bmw8o.B9s());this.kS2x.GY0x()?a7h.X9O(this.bV9M,"visibility","hidden"):a7h.X9O(this.bV9M,"visibility","visible");this.kS2x.z9q(this.kS2x.GY0x()?"onhide":"onshow",{parent:this.bV9M});!this.kS2x.GY0x()&&this.Ak8c(false);if(this.kS2x.GY0x())v9m.gG1x("playliststatus","visible");else v9m.gG1x("playliststatus","invisible");this.kS2x.GY0x()?a7h.y9p(this.bmi8a,"icn-plist-show"):a7h.w9n(this.bmi8a,"icn-plist-show");if(this.kS2x){this.kS2x.fU1x()}};b8h.cid0x=function(gu1x){if(gu1x=="visible"){!this.kS2x&&(this.kS2x=L9C.bmw8o.B9s());this.kS2x.z9q("onshow",{parent:this.bV9M});a7h.y9p(this.bmi8a,"icn-plist-show");if(this.kS2x){this.kS2x.fU1x()}}else if(!gu1x){this.bzl1x()}else{a7h.X9O(this.bV9M,"visibility","hidden")}};b8h.WR4V=function(){if(!(this.P9G.kr2x()||[]).length&&GUser&&GUser.userId){this.P9G.bnG8y(true);v9m.bp9g("/api/user/playlist",{type:"json",method:"get",query:{offset:0,limit:50,uid:GUser.userId},onload:function(d8f){if(d8f.code==200){var i8a=d8f.playlist;for(var i=0;i<i8a.length;i++){if(i8a[i].trackCount){this.bzn1x(13,i8a[i].id,"addto",false);return}}}}.g8c(this)})}};a7h.cE0x("template-box");window.bz9q=this.bz9q=L9C.bze1x.B9s();this.bz9q.z9q("onshow",{});window.onload=function(){window.bkG8y=location.hash}})()